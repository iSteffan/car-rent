{"version":3,"file":"static/js/838.e9b5ae89.chunk.js","mappings":"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","sources":["components/LoadMoreBtn/LoadMoreBtn.styled.jsx","components/LoadMoreBtn/LoadMoreBtn.jsx","components/Loader/Loader.jsx","components/SearchForm/SearchForm.styled.js","components/SearchForm/SearchForm.jsx","pages/Catalog.jsx","utils/findUniqueBrand.jsx","utils/extractRentalPricesInRange.jsx","utils/searchFilter.jsx"],"sourcesContent":["import styled from 'styled-components';\n\nexport const Btn = styled.button`\n  margin-top: 100px;\n  margin-left: auto;\n  margin-right: auto;\n  display: block;\n\n  color: #3470ff;\n  font-family: 'ManropeMedium';\n  font-size: 16px;\n  font-weight: 500;\n  line-height: 1.5;\n  text-decoration-line: underline;\n  border: none;\n  background-color: transparent;\n  cursor: pointer;\n\n  transition: color 250ms linear;\n\n  &:hover,\n  &:focus {\n    color: #0b44cd;\n  }\n`;\n","import { Btn } from './LoadMoreBtn.styled';\n\nexport const LoadMoreBtn = ({ onClick }) => {\n  return <Btn onClick={onClick}>Load more</Btn>;\n};\n","import { ThreeDots } from 'react-loader-spinner';\n\nexport const Loader = () => {\n  return (\n    <ThreeDots\n      height=\"80\"\n      width=\"80\"\n      radius=\"9\"\n      color=\"#4fa94d\"\n      ariaLabel=\"three-dots-loading\"\n      wrapperStyle={{ justifyContent: 'center' }}\n      wrapperClassName=\"loader\"\n      visible={true}\n    />\n  );\n};\n","import styled from 'styled-components';\nimport {\n  Form as FormikForm,\n  Field as FormikInput,\n  ErrorMessage as FormikErrorMessage,\n} from 'formik';\n\nexport const ErrorMessage = styled(FormikErrorMessage)`\n  position: absolute;\n  top: 75px;\n  left: 0;\n  font-size: 12px;\n  color: red;\n`;\n\nexport const Container = styled.div`\n  display: flex;\n  align-items: flex-end;\n  gap: 18px;\n`;\n\nexport const Label = styled.label`\n  margin-bottom: 8px;\n\n  color: #8a8a89;\n  font-size: 14px;\n  line-height: 1.28;\n`;\n\nexport const Field = styled(FormikInput)`\n  padding: 14px 18px;\n\n  font-size: 18px;\n  line-height: 1.11;\n  border: none;\n  border-radius: 14px;\n  background: #f7f7fb;\n\n  &::placeholder {\n    color: #121417;\n  }\n`;\n\nexport const FieldMileageFrom = styled(FormikInput)`\n  padding: 14px 24px;\n\n  width: 160px;\n  font-size: 18px;\n  line-height: 1.11;\n  border: none;\n  border-bottom-left-radius: 14px;\n  border-top-left-radius: 14px;\n  border-right: 1px solid rgba(138, 138, 137, 0.2);\n\n  background: #f7f7fb;\n\n  &::placeholder {\n    color: #121417;\n  }\n`;\n\nexport const FieldMileageTo = styled(FormikInput)`\n  padding: 14px 24px;\n\n  width: 160px;\n  font-size: 18px;\n  line-height: 1.11;\n  border: none;\n  border-bottom-right-radius: 14px;\n  border-top-right-radius: 14px;\n  background: #f7f7fb;\n\n  &::placeholder {\n    color: #121417;\n  }\n`;\n\nexport const Form = styled(FormikForm)`\n  margin-bottom: 50px;\n  margin-left: auto;\n  margin-right: auto;\n\n  width: 858px;\n`;\n\nexport const BrandContainer = styled.div`\n  position: relative;\n  display: flex;\n  flex-direction: column;\n\n  width: 224px;\n`;\n\nexport const PriceContainer = styled.div`\n  position: relative;\n  display: flex;\n  flex-direction: column;\n\n  width: 125px;\n`;\n\nexport const Datalist = styled.datalist`\n  width: 224px;\n  height: 272px;\n  border-radius: 14px;\n  border: 1px solid rgba(18, 20, 23, 0.05);\n  background: #fff;\n  box-shadow: 0px 4px 36px 0px rgba(0, 0, 0, 0.02);\n`;\n\nexport const Btn = styled.button`\n  padding: 14px 44px;\n\n  height: 48px;\n  color: white;\n  font-family: 'ManropSemiBold';\n  font-size: 14px;\n  line-height: 1.42;\n  border: none;\n  border-radius: 12px;\n  background: #3470ff;\n\n  transition: background 250ms linear;\n\n  &:hover,\n  &:focus {\n    background: #0b44cd;\n  }\n`;\n\nexport const Fieldset = styled.fieldset`\n  margin: 0;\n  padding: 0;\n  display: flex;\n  flex-direction: column;\n  border: none;\n`;\n\nexport const MileageBox = styled.div`\n  position: relative;\n  display: flex;\n\n  width: 320px;\n`;\n","import { Formik } from 'formik';\nimport {\n  Label,\n  Form,\n  Field,\n  BrandContainer,\n  PriceContainer,\n  Datalist,\n  Container,\n  Btn,\n  Fieldset,\n  MileageBox,\n  FieldMileageFrom,\n  FieldMileageTo,\n  ErrorMessage,\n} from './SearchForm.styled';\nimport * as Yup from 'yup';\n\nconst FormSchema = Yup.object().shape({\n  make: Yup.string().required('Required field!'),\n  rentalPrice: Yup.number()\n    .positive('Must be > 0!')\n    .required('Required field!'),\n  fromMileage: Yup.number()\n    .positive('Must be > 0!')\n    .test(\n      'is-less-than-toMileage',\n      'From must be less than To',\n      function (fromMileage) {\n        const toMileage = this.parent.toMileage;\n        return fromMileage < toMileage;\n      }\n    )\n    .required('Required field!'),\n  toMileage: Yup.number()\n    .positive('Must be > 0!')\n    .test(\n      'is-greater-than-fromMileage',\n      'To must be greater than From',\n      function (toMileage) {\n        const fromMileage = this.parent.fromMileage;\n        return toMileage > fromMileage;\n      }\n    )\n    .required('Required field!'),\n});\n\nexport const SearchForm = ({ onSave, data, priceRange }) => {\n  return (\n    <Formik\n      initialValues={{\n        make: '',\n        rentalPrice: '',\n        fromMileage: '',\n        toMileage: '',\n      }}\n      validationSchema={FormSchema}\n      onSubmit={(values, actions) => {\n        onSave({ ...values });\n        actions.resetForm();\n      }}\n    >\n      <Form>\n        <Container>\n          <BrandContainer>\n            <Label htmlFor=\"make\">Car brand</Label>\n            <Field\n              name=\"make\"\n              id=\"make\"\n              list=\"carBrands\"\n              placeholder=\"Enter the text\"\n            />\n            <ErrorMessage name=\"make\" component=\"div\" />\n            <Datalist\n              id=\"carBrands\"\n              style={{ width: '224px', height: '272px' }}\n            >\n              {data.map(option => (\n                <option key={option} value={option} />\n              ))}\n            </Datalist>\n          </BrandContainer>\n          <PriceContainer>\n            <Label htmlFor=\"rentalPrice\">Price/ 1 hour</Label>\n            <Field\n              name=\"rentalPrice\"\n              id=\"rentalPrice\"\n              list=\"priceRange\"\n              placeholder=\"To $\"\n            />\n            <ErrorMessage name=\"rentalPrice\" component=\"div\" />\n            <Datalist\n              id=\"priceRange\"\n              style={{ width: '224px', height: '272px' }}\n            >\n              {priceRange.map(option => (\n                <option key={option} value={option} />\n              ))}\n            </Datalist>\n          </PriceContainer>\n          <Fieldset>\n            <Label htmlFor=\"fromMileage toMileage\">Сar mileage / km</Label>\n            <MileageBox>\n              <FieldMileageFrom\n                name=\"fromMileage\"\n                id=\"fromMileage\"\n                placeholder=\"From\"\n              />\n              <ErrorMessage\n                name=\"fromMileage\"\n                component=\"div\"\n                style={{ top: '49px', width: '160px' }}\n              />\n              <FieldMileageTo\n                name=\"toMileage\"\n                id=\"toMileage\"\n                placeholder=\"To\"\n              />\n              <ErrorMessage\n                name=\"toMileage\"\n                component=\"div\"\n                style={{ top: '49px', left: '160px' }}\n              />\n            </MileageBox>\n          </Fieldset>\n          <Btn type=\"submit\">Search</Btn>\n        </Container>\n      </Form>\n    </Formik>\n  );\n};\n","import React, { useState, useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport {\n  fetchAdverts,\n  fetchAdvertsPerPage,\n  fetchAdvertsAmount,\n} from 'redux/advertOperations';\nimport {\n  selectAdverts,\n  selectAmount,\n  selectIsLoading,\n  selectError,\n} from 'redux/advertSlice';\nimport { CarCard } from 'components/CarCard/CarCard';\nimport { List, Container } from './Catalog.styled';\nimport { LoadMoreBtn } from 'components/LoadMoreBtn/LoadMoreBtn';\nimport { Loader } from 'components/Loader/Loader';\nimport { SearchForm } from 'components/SearchForm/SearchForm';\nimport { findUniqueBrand } from 'utils/findUniqueBrand';\nimport { extractRentalPricesInRange } from 'utils/extractRentalPricesInRange';\nimport { searchFilter } from 'utils/searchFilter';\n\nconst Catalog = () => {\n  const dispatch = useDispatch();\n  const [page, setPage] = useState(2);\n  const [filteredItems, setFilteredItems] = useState(null);\n\n  useEffect(() => {\n    dispatch(fetchAdverts());\n    dispatch(fetchAdvertsAmount());\n  }, [dispatch]);\n\n  const onLoadMoreClick = () => {\n    dispatch(fetchAdvertsPerPage(page));\n    setPage(prevPage => prevPage + 1);\n  };\n\n  const error = useSelector(selectError);\n  const isLoading = useSelector(selectIsLoading);\n  const items = useSelector(selectAdverts);\n  const itemsAmount = useSelector(selectAmount);\n\n  const carModels = findUniqueBrand(itemsAmount);\n  const rentalPriceRange = extractRentalPricesInRange(itemsAmount);\n\n  const handleSearch = searchParam => {\n    const filteredCars = searchFilter(itemsAmount, searchParam);\n    setFilteredItems(filteredCars);\n  };\n\n  const renderItems = filteredItems ? filteredItems : items;\n\n  return (\n    <Container>\n      <SearchForm\n        data={carModels}\n        priceRange={rentalPriceRange}\n        onSave={handleSearch}\n      />\n\n      {isLoading && (\n        <div style={{ marginTop: '200px' }}>\n          <Loader />\n        </div>\n      )}\n\n      {filteredItems !== null && filteredItems.length === 0 ? (\n        <p>Your search parameters did not match any available cars.</p>\n      ) : (\n        <List>\n          {renderItems.map(item => (\n            <CarCard key={item.id} item={item} />\n          ))}\n        </List>\n      )}\n\n      {!filteredItems && itemsAmount.length - items.length > 0 && (\n        <LoadMoreBtn onClick={onLoadMoreClick} />\n      )}\n\n      {error && <p>Oops, something wrong is going on...</p>}\n    </Container>\n  );\n};\n\nexport default Catalog;\n","export const findUniqueBrand = inputArray => {\n  const uniqueMakes = new Set();\n\n  inputArray.forEach(item => {\n    uniqueMakes.add(item.make);\n  });\n\n  return Array.from(uniqueMakes);\n};\n","export const extractRentalPricesInRange = array => {\n  // Спочатку ми створимо масив з усіма значеннями rentalPrice, видалимо \"$\" та перетворимо на числа.\n  const rentalPrices = array.map(item =>\n    parseInt(item.rentalPrice.replace('$', ''))\n  );\n\n  // Знайдемо максимальне значення rentalPrice.\n  const maxRentalPrice = Math.max(...rentalPrices);\n\n  // Створимо масив результатів, додаючи значення в проміжку від 10 до максимального значення з кроком в 10.\n  const result = [];\n  for (let i = 10; i <= maxRentalPrice; i += 10) {\n    result.push(i.toString()); // Перетворюємо числа на рядки\n  }\n\n  return result;\n};\n","export const searchFilter = (itemsAmount, searchParam) => {\n  if (!searchParam) {\n    return false;\n  }\n\n  const filteredCars = itemsAmount.filter(car => car.make === searchParam.make);\n\n  const targetRentalPrice = parseInt(\n    searchParam.rentalPrice.replace('$', ''),\n    10\n  );\n\n  const filteredByRentalPrice = filteredCars.filter(\n    car => parseInt(car.rentalPrice.replace('$', ''), 10) <= targetRentalPrice\n  );\n\n  const filteredByMileage = filteredByRentalPrice.filter(\n    car =>\n      car.mileage >= parseInt(searchParam.fromMileage, 10) &&\n      car.mileage <= parseInt(searchParam.toMileage, 10)\n  );\n\n  const sortedCars = filteredByMileage.sort((a, b) => a.mileage - b.mileage);\n\n  return sortedCars;\n};\n"],"names":["Btn","styled","LoadMoreBtn","onClick","Loader","height","width","radius","color","ariaLabel","wrapperStyle","justifyContent","wrapperClassName","visible","ErrorMessage","FormikErrorMessage","Container","Label","Field","FormikInput","FieldMileageFrom","FieldMileageTo","Form","FormikForm","BrandContainer","PriceContainer","Datalist","Fieldset","MileageBox","FormSchema","Yup","shape","make","required","rentalPrice","positive","fromMileage","test","this","parent","toMileage","SearchForm","onSave","data","priceRange","initialValues","validationSchema","onSubmit","values","actions","resetForm","htmlFor","name","id","list","placeholder","component","style","map","option","value","top","left","type","dispatch","useDispatch","useState","page","setPage","filteredItems","setFilteredItems","useEffect","fetchAdverts","fetchAdvertsAmount","error","useSelector","selectError","isLoading","selectIsLoading","items","selectAdverts","itemsAmount","selectAmount","carModels","inputArray","uniqueMakes","Set","forEach","item","add","Array","from","findUniqueBrand","rentalPriceRange","array","rentalPrices","parseInt","replace","maxRentalPrice","Math","max","result","i","push","toString","extractRentalPricesInRange","renderItems","searchParam","filteredCars","filter","car","targetRentalPrice","mileage","sort","a","b","searchFilter","marginTop","length","CarCard","fetchAdvertsPerPage","prevPage"],"sourceRoot":""}